<%- include ("./partials/subpage-header.ejs") %>
    <section class="body-font pt-20 pb-10 max-w-3xl mx-auto break-words px-5">
        <div class="lg:-mx-5">
            <div class="mb-8 -mt-6">
                <a class="flex items-center gap-2 back-btn" href="/catalog">
                    <span class="text-custom-gray text-sm"><</span>
                    <span class="text text-custom-gray">Catalog</span>
                </a>
            </div>
            <h1 class="pb-2"><%= locals.title %></h1>
            <div class="flex my-6 gap-4 flex-wrap sm:flex-nowrap">
                <div class="sm:w-1/3 w-full">
                    <img
                        class="h-64 w-full object-cover object-center rounded-lg"
                        src=<%= locals.image %>
                        alt=<%= locals.title %>
                    />
                </div>
                <div class="p-9 pb-20 bg-gray-100 rounded-lg sm:w-2/3 w-full sm:pb-9">
                    <div class="flex gap-0 pb-8 flex-wrap sm:flex-nowrap sm:gap-4">
                        <div class="flex items-center sm:w-1/4 w-full">
                            <label class="font-bold">MIDI Input</label>
                        </div>
                        <div class="sm:w-3/4 w-full">
                            <div class="inline-block relative w-full">
                                <select
                                    class="w-full block appearance-none bg-white border border-gray-200 px-4 py-2 pr-8 rounded-lg leading-tight hover:border-gray-300 focus:outline-none"
                                >
                                    <option>Cirklon2 Port1</option>
                                    <option>Cirklon2 Port2</option>
                                    <option>Cirklon2 Port3</option>
                                </select>
                                <div
                                    class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-700"
                                >
                                    <svg
                                        class="fill-current h-3 w-3"
                                        width="14"
                                        height="9"
                                        viewBox="0 0 14 9"
                                        fill="none"
                                        xmlns="http://www.w3.org/2000/svg"
                                    >
                                        <path
                                            d="M0.479434 1.66436C-0.093811 1.01946 0.363995 0 1.22684 0H12.7732C13.636 0 14.0938 1.01946 13.5206 1.66436L7.74741 8.15916C7.34962 8.60668 6.65038 8.60668 6.25259 8.15916L0.479434 1.66436Z"
                                            fill="#333333"
                                            fill-opacity="0.9"
                                        ></path>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="flex gap-0 pb-8 flex-wrap sm:flex-nowrap sm:gap-4">
                        <div class="flex items-center sm:w-1/4 w-full">
                            <label class="font-bold">Output</label>
                        </div>
                        <div class="sm:w-3/4 w-full">
                            <div class="inline-block relative w-full">
                                <select
                                    class="w-full block appearance-none bg-white border border-gray-200 px-4 py-2 pr-8 rounded-lg leading-tight hover:border-gray-300 focus:outline-none"
                                >
                                    <option>Studio Display Speakers</option>
                                    <option>Headphones</option>
                                </select>
                                <div
                                    class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-700"
                                >
                                    <svg
                                        class="fill-current h-3 w-3"
                                        width="14"
                                        height="9"
                                        viewBox="0 0 14 9"
                                        fill="none"
                                        xmlns="http://www.w3.org/2000/svg"
                                    >
                                        <path
                                            d="M0.479434 1.66436C-0.093811 1.01946 0.363995 0 1.22684 0H12.7732C13.636 0 14.0938 1.01946 13.5206 1.66436L7.74741 8.15916C7.34962 8.60668 6.65038 8.60668 6.25259 8.15916L0.479434 1.66436Z"
                                            fill="#333333"
                                            fill-opacity="0.9"
                                        ></path>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="absolute" id="share_preset_button">
                        <div class="inline-block relative">
                            <div class="inline-block relative">
                                <button
                                    class="hover:shadow-md share-button flex-shrink-0 border-transparent bg-deep-teal text-white py-2 px-4 rounded-lg"
                                    id="share"
                                >
                                    Share your preset
                                </button>
                                <div
                                    class="pb-0.5 pt-1 px-1.5 text-xs absolute -right-6 -top-2 flex-shrink-0 border-transparent bg-orange text-white rounded"
                                >
                                    New
                                </div>
                            </div>
                            <div class="share-dialog mr-4 hidden">
                                <div
                                    class="triangle shadow-lg mt-2 z-20"
                                    style="left: 50%"
                                ></div>
                                <div
                                    class="share-btn p-8 w-80 bg-white flex flex-wrap gap-6 absolute top-14 z-10 share-btn rounded-lg"
                                    style="left: -50%"
                                >
                                    <div
                                        class="w-[4.25rem] flex flex-col items-center"
                                    >
                                        <a data-id="copy">
                                            <img
                                                class="pb-2"
                                                src="/images/copy.svg"
                                                alt="Copy"
                                            />
                                        </a>
                                        <a data-id="copy">Copy link</a>
                                    </div>
                                    <div
                                        class="w-[4.25rem] flex flex-col items-center"
                                    >
                                        <a data-id="wa">
                                            <img
                                                class="pb-2"
                                                src="/images/whatsapp.svg"
                                                alt="WhatsApp"
                                            />
                                        </a>
                                        <a data-id="wa">WhatsApp</a>
                                    </div>
                                    <div
                                        class="w-[4.25rem] flex flex-col items-center"
                                    >
                                        <a data-id="tg">
                                            <img
                                                class="pb-2"
                                                src="/images/facebook.svg"
                                                alt="Facebook"
                                            />
                                        </a>
                                        <a data-id="fb">Facebook</a>
                                    </div>
                                    <div
                                        class="w-[4.25rem] flex flex-col items-center"
                                    >
                                        <a data-id="tw">
                                            <img
                                                class="pb-2"
                                                src="/images/twitter.svg"
                                                alt="Twitter"
                                            />
                                        </a>
                                        <a data-id="tw">X</a>
                                    </div>
                                    <div
                                        class="w-[4.25rem] flex flex-col items-center"
                                    >
                                        <a data-id="mail">
                                            <img
                                                class="pb-2"
                                                src="/images/email.svg"
                                                alt="Mail"
                                            />
                                        </a>
                                        <a data-id="mail">Email</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="flex flex-col gap-6 p-4 bg-deep-teal rounded-lg">
                <img
                    class="rounded-lg w-full"
                    src="/images/board1.jpg"
                    alt="Panel"
                />
                <img
                    class="rounded-lg w-full"
                    src="/images/board2.jpg"
                    alt="Keyboard"
                />
            </div>
        </div>
    </section>

    <% if (!locals.share_preset) { %>
        <script>
            document.getElementById("share_preset_button").style.visibility = "hidden";
            console.log('share_preset', <%= locals.share_preset %>)
        </script>

    <% } %>
    <% if (locals.share_preset) { %>
        <script type="text/javascript">
            window.addEventListener('DOMContentLoaded', function() {
              const btn = document.querySelector(".share-button");
              const dialog = document.querySelector(".share-dialog");
              btn.addEventListener('click', async () => {
                dialog.classList.toggle("hidden");
              });
          }, false);
        </script>
    <% } %>
<%- include ("./partials/subpage-footer.ejs") %>
